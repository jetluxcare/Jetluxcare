<!doctype html>
<html lang="sk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JetLux Care – Realistic Jet Flyover</title>
  <meta name="color-scheme" content="dark">
  <link rel="preload" as="image" href="assets/jetlux-logo.png">
  <style>
    :root{--border:#0f1a33; --fg:#e9eef9}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(140% 120% at 50% -10%, #0e1936 0%, #09132b 45%, #050a1c 100%);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;overflow-x:hidden}

    .stage{
      position:relative; height:calc(100vh - 120px); min-height:560px; max-height:920px;
      margin:24px auto 0; max-width:min(1200px,96vw);
      border:1px solid var(--border); border-radius:20px; overflow:hidden; isolation:isolate;
      background:linear-gradient(180deg,#08132b 0%,#071025 40%,#060d1f 100%);
      perspective:1200px; box-shadow:0 25px 50px rgba(0,0,0,.35);
    }
    svg.sky{position:absolute;inset:0;width:100%;height:100%}
    .stars{position:absolute;inset:0;pointer-events:none;opacity:.35;
      background-image:
        radial-gradient(1px 1px at 15% 30%, rgba(255,255,255,.7) 99%, transparent 100%),
        radial-gradient(1px 1px at 35% 65%, rgba(255,255,255,.65) 99%, transparent 100%),
        radial-gradient(1px 1px at 75% 25%, rgba(255,255,255,.8) 99%, transparent 100%),
        radial-gradient(1px 1px at 55% 80%, rgba(255,255,255,.6) 99%, transparent 100%),
        radial-gradient(1px 1px at 90% 55%, rgba(255,255,255,.6) 99%, transparent 100%);
      filter:blur(.2px)
    }

    /* Cloud layers */
    .cloud{position:absolute; background:radial-gradient(50% 60% at 50% 60%, #ffffff18 0%, #ffffff0a 50%, #ffffff00 100%);
      border-radius:50%; filter:blur(14px); opacity:.75; will-change:transform}
    .c1{width:38vmax; aspect-ratio:2/1; left:-10%; top:6%}
    .c2{width:46vmax; aspect-ratio:2.2/1; right:-12%; top:24%}
    .c3{width:48vmax; aspect-ratio:2.2/1; left:6%; bottom:8%}

    /* Jet from PNG, cropped to show only airplane using clip-path */
    .jetWrap{
      position:absolute; width:min(24vw,360px); aspect-ratio:3.2/1.2;
      transform-style:preserve-3d; will-change:transform,filter;
      pointer-events:none;
    }
    .jetImg{
      position:absolute; inset:0;
      background-image:url('assets/jetlux-logo.png'); background-repeat:no-repeat;
      background-size:120% auto; background-position:54% 19%;
      /* Crop bottom text away. Adjust 'inset' bottom percentage if needed. */
      clip-path: inset(0 0 62% 0 round 2px);
      filter: drop-shadow(0 18px 38px rgba(0,0,0,.55));
    }
    /* Specular highlight overlay to fake metal */
    .jetSpec{
      position:absolute; inset:0; mix-blend-mode:screen; opacity:.45; pointer-events:none;
      background:
        linear-gradient(100deg, rgba(255,255,255,0.00) 10%, rgba(255,255,255,0.18) 35%, rgba(255,255,255,0.00) 60%);
      filter: blur(0.3px);
    }
    /* Heat haze behind jet trail */
    .haze{
      position:absolute; left:-40%; top:38%; width:60%; height:24%;
      background: radial-gradient(60% 50% at 60% 50%, rgba(255,255,255,.06) 0%, rgba(255,255,255,0) 70%);
      filter: blur(8px); opacity:.22; transform: skewX(-12deg);
      pointer-events:none;
    }

    .shadow{
      position:absolute; width:22vmax; height:7vmax;
      left:0; top:0; translate:-50% -50%;
      background: radial-gradient(50% 50% at 50% 50%, rgba(0,0,0,.40) 0%, rgba(0,0,0,0) 70%);
      filter: blur(12px); opacity:.65; will-change: transform, opacity; pointer-events:none;
    }
    .overlay{position:absolute;left:24px;bottom:24px;right:24px;display:flex;gap:16px;mix-blend-mode:plus-lighter;opacity:.9;font-weight:600;letter-spacing:.4px}
    @media (max-width:700px){.overlay{flex-direction:column}}
    @media (prefers-reduced-motion: reduce){.jetWrap,.cloud{transition:none!important;animation:none!important}}
  </style>
</head>
<body>
  <section class="stage" aria-label="Realistický prelet jetu">
    <svg class="sky" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
      <path id="flight" d="M -8 68 C 12 52, 32 28, 52 36 S 92 70, 108 56" fill="none" stroke="none"/>
    </svg>

    <div class="stars" aria-hidden="true"></div>
    <div class="cloud c1" aria-hidden="true"></div>
    <div class="cloud c2" aria-hidden="true"></div>
    <div class="cloud c3" aria-hidden="true"></div>

    <div id="shadow" class="shadow" aria-hidden="true"></div>

    <div id="jet" class="jetWrap" aria-hidden="true">
      <div class="jetImg"></div>
      <div class="jetSpec"></div>
      <div class="haze"></div>
    </div>

    <div class="overlay"><div>Move cursor or swipe → inertia, 3D tilt, shadow, motion blur</div></div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/MotionPathPlugin.min.js"></script>
  <script>
  (()=>{
    const wrap = document.getElementById('jet');
    const shadow = document.getElementById('shadow');
    const path = document.getElementById('flight');
    const clouds = gsap.utils.toArray('.cloud');
    const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;

    gsap.registerPlugin(MotionPathPlugin);

    const tl = gsap.timeline({ paused:true });
    tl.to(wrap, {
      duration: 1,
      motionPath: { path, align: path, alignOrigin:[0.5,0.5], autoRotate: true },
      ease: 'none',
      onUpdate(){
        const prog = tl.progress();
        const vel = MotionPathPlugin.getVelocity(wrap);
        const speed = Math.hypot(vel.x, vel.y);

        // 3D attitude
        const bank  = gsap.utils.clamp(-30, 30, -vel.y * 0.60);
        const yaw   = gsap.utils.clamp(-16, 16,  vel.x * 0.20);
        const pitch = gsap.utils.clamp(-8,  8,  -vel.y * 0.22);
        gsap.set(wrap, { rotationZ: bank + pitch, rotationY: yaw, transformPerspective: 1000 });

        // Motion blur based on speed
        const blur = gsap.utils.clamp(0, 2.8, speed * 0.03);
        gsap.set(wrap, { filter: `blur(${blur}px)` });

        // Dynamic shadow
        const rect = wrap.getBoundingClientRect();
        const x = rect.left + rect.width*0.5;
        const y = rect.top + rect.height*0.85;
        gsap.set(shadow, { x, y, scale: gsap.utils.mapRange(0,1,.9,1.25,prog), opacity: gsap.utils.mapRange(0,1,.6,.35,prog) });

        // Parallax clouds
        clouds.forEach((c,i)=>{
          const depth = (i+1)*6;
          gsap.to(c, { x: gsap.utils.interpolate(-18, 18, prog) * depth, y: gsap.utils.interpolate(-6, 6, prog) * depth, duration:.2, overwrite:true });
        });
      }
    }, 0);

    let target=0.12, current=0.12, ease=0.16, raf=null;
    function step(){ current += (target-current)*ease; tl.progress(current); if(Math.abs(target-current)>0.0006) raf=requestAnimationFrame(step); else raf=null; }
    function toProgress(px){ const pad=0.06; const nx = gsap.utils.clamp(0,1, px/innerWidth); return pad + nx*(1-2*pad); }
    function onMove(e){ if(reduce) return; const x = e.touches?e.touches[0].clientX:e.clientX; target=toProgress(x); if(!raf) raf=requestAnimationFrame(step); }
    function onScroll(){ if(reduce) return; const m = document.documentElement.scrollHeight - innerHeight; const sc = m>0?scrollY/m:0; target=gsap.utils.clamp(0,1,sc); if(!raf) raf=requestAnimationFrame(step); }

    addEventListener('mousemove', onMove, {passive:true});
    addEventListener('touchmove', onMove, {passive:true});
    addEventListener('scroll', onScroll, {passive:true});

    tl.progress(current);
  })();
  </script>
</body>
</html>
